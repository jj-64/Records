% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/compute_vcov_mle.R
\name{compute_vcov_loglik}
\alias{compute_vcov_loglik}
\title{Compute numeric Hessian of log-likelihood (logLik_fun returns scalar log-lik)}
\usage{
compute_vcov_loglik(
  logLik_fun,
  params,
  method = c("numDeriv", "fd"),
  eps = sqrt(.Machine$double.eps)
)
}
\arguments{
\item{logLik_fun}{function, loglikelihood function stored in the registry with embeded model,
obs_type, data and dist}

\item{params}{list or named vector, parameters of the likelihood function}

\item{method}{character "numDeriv" or "fd" for the hessian matrix derivation}

\item{eps}{numeric, epsilon very small number}
}
\value{
variance-coavriance matrix
}
\description{
Compute numeric Hessian of log-likelihood (logLik_fun returns scalar log-lik)
}
\details{
This is a numerical computation of the variance of MLE estimated paraemters.
For computations assuming independence, see \code{\link{compute_vcov_marginal}}
}
\examples{
\dontrun{
 data = list(rec_values = c(1,2,4,6),
             rec_times =  c(1,3,6,7),
               time = 7)
 params = list(theta= 0.3, scale=2, shape=2)
logLik_wrapper <- function(params) logLik_records("LDM", "records", "frechet",data=data, params)
vcov_num <- compute_vcov_loglik(logLik_fun=logLik_wrapper, params = params, method = "numDeriv")
vcov_df <- compute_vcov_loglik(logLik_fun=logLik_wrapper, params = params, method = "fd")
vcov_num
             theta         scale         shape
# theta  0.0002413388 -0.0018339109 -9.914805e-04
# scale -0.0018339109 -0.0005549926  2.128553e-02
# shape -0.0009914805  0.0212855317-5.246428e-05
# attr(,"H")
#          [,1]       [,2]       [,3]
# [1,] -14516.5394 -679.30707 -1268.4226
# [2,]   -679.3071  -31.90424  -106.3396
# [3,]  -1268.4226 -106.33961  -112.0569

vcov_df
              theta         scale         shape
# theta  0.0002338340 -0.0018340020 -0.0009199346
# scale -0.0018340020 -0.0002522914  0.0210677989
# shape -0.0009199346  0.0210677989 -0.0005627663
# attr(,"H")
#      [,1]  [,2]  [,3]
# [1,] -14520 -668 -1272
# [2,]   -668  -32  -106
# [3,]  -1272 -106  -112
}
}
